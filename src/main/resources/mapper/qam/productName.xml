<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.erp.qam.mapper.ProductNameMapper">

<resultMap id="ProductNameMap" type="ProductName">
    <id column="product_code" property="productCode"/>
    <result column="product_color" property="productColor"/>
    <result column="product_name" property="productName"/>
    <result column="product_price" property="productPrice"/>
    <result column="product_cost" property="productCost"/>
    <result column="product_category" property="productCategory"/>
</resultMap>

     <select id="showProductName" parameterType="ProductName" resultMap="ProductNameMap">
        SELECT * FROM product_name
     </select>

	<insert id="insertProductName" parameterType="ProductName">
    	INSERT INTO product_name(product_color, product_name, product_price, product_cost, product_category)
    	VALUES(#{productColor}, #{productName}, #{productPrice}, #{productCost}, #{productCategory})
	</insert>

	<update id="updateProductName" parameterType="ProductName">
    	UPDATE product_name
    	SET product_color = #{productColor},
        	product_name = #{productName},
        	product_price = #{productPrice},
        	product_cost = #{productCost},
        	product_category = #{productCategory}
    	WHERE product_code = #{productCode}
	</update>

	<select id="findById" parameterType="int" resultMap="ProductNameMap">
    	SELECT * FROM product_name WHERE product_code = #{productCode}
	</select>
	
	<delete id="deleteProductName" parameterType="int">
    	DELETE FROM product_name
    	WHERE product_code = #{productCode}
	</delete>

	<select id="searchProductName" resultMap="ProductNameMap">
   		SELECT * FROM product_name
    	WHERE 1=1
    <if test="productName != null and productName != ''">
        AND product_name LIKE CONCAT('%', #{productName}, '%')
    </if>
    <if test="productCategory != null and productCategory != ''">
        AND product_category = #{productCategory}
    </if>
	</select>


</mapper>