<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.erp.qam.mapper.BrandMapper">

<resultMap id="brandMap" type="Brand">
	<result column="brand_code" property="brandCode"/>
	<result column="brand_name" property="brandName"/>
	<result column="brand_phone" property="brandPhone"/>
	<result column="brand_account" property="brandAccount"/>
	<result column="brand_bank" property="brandBank"/>
</resultMap>


  <insert id="registerBrand" parameterType="Brand">
    INSERT INTO brand (brand_name, brand_phone, brand_account, brand_bank)
	VALUES (#{brandName}, #{brandPhone}, #{brandAccount}, #{brandBank});
  </insert>
    
  <select id="showBrand" resultMap="brandMap">
  	 SELECT brand_code, brand_name, brand_phone, brand_account, brand_bank
     FROM brand
     JOIN product_name USING(brand_code)
	 ORDER BY brand_code
  </select>
  
  <update id="updateBrand" parameterType="Brand"> 
<!--  parameterType = resultMap의 type / vo & dto 이름, or int/paging/Arraylist etc. -->
  	UPDATE brand
  	SET brand_name = #{brandName},
  		brand_phone = #{brandPhone},
  		brand_account = #{brandAccount},
  		brand_bank = #{brandBank}
  	WHERE brand_code = #{brandCode}
  </update> 

  <delete id="deleteBrand" parameterType="int">
	DELETE FROM brand WHERE brand_code = #{brandCode}
  </delete>

  <select id="findById" resultMap="brandMap" parameterType="int">
  	 SELECT brand_code, brand_name, brand_phone, brand_account, brand_bank
     FROM brand
<!--     JOIN product_name USING(brand_code)-->
     WHERE brand_code = #{brandCode}
	 ORDER BY brand_code
  </select>

  <select id="findBrand" resultMap="brandMap">
	  SELECT brand_code, brand_name, brand_phone, brand_account, brand_bank
	  FROM brand
	  ORDER BY brand_code
	  LIMIT #{offset}, #{limit}
  </select>
  
    <select id="totalBrand" resultType="int">
	  SELECT 
		COUNT(*)
	  FROM brand
  </select>

</mapper>