# Ctrl S — VERDE ERP (Fashion Brand Web ERP)

친환경 패션 브랜드 **VERDE**를 위한 웹 ERP 서비스입니다. 인사·근태·휴가·재무(예산/매출/매입/급여)·품질·제품/브랜드 관리까지 **전사 업무 흐름을 하나의 시스템으로 통합**하는 것을 목표로 했습니다.


## 목차

- 🧭 [개요](#개요)
- 🔗 [Links](#-links)
- 🏗️ [설계 개요](#-설계-개요)
- ✨ [주요 기능](#-주요-기능)
- 🔌 [API 요약](#-api-요약)
- 👥 [팀 구성 & 역할](#-팀-구성--역할)
- 🧠 [이슈 & 배운 점](#-이슈--배운-점)
- 🙌 [크레딧](#-크레딧)
<!-- 
- [아키텍처](#아키텍처)
- [ERD](#erd)
-->

## 🧭 개요

- **팀 이름(팀 멤버)**: Ctrl S (오재덕, 이환희, 윤의진, 박지연)
- **프로젝트 기간**: 2025-08-07 ~ 2025-09-12
- **개발 기술**
  - **Frontend**: HTML, CSS, JavaScript, Bootstrap, Chart.js, SweetAlert2
  - **Backend**: Spring Boot, Spring Security, MyBatis
  - **DB**: MySQL
  - **Tools**: GitHub, Slack, Figma, Notion, Flaticon, Google Drive, Eclipse

## 🔗 Links
<!--

- 발표자료: `docs/slide.pdf`
-->


## 🏗️ 설계 개요

### ERD 개요

- 총 **22개 테이블**
- 주요 도메인: **인적자원, 품질관리, 재무관리**


### 유스케이스(주요 범위)

- 로그인/회원가입(보안)
- 인적자원 관리(사원 등록/조회/수정/평가/퇴사 처리)
- 재무 관리(예산/매출/매입/거래내역/급여)
- 품질 보증/제품 관리(검수, 판매대기/불량 분기, 브랜드/상품 등록/조회)

## ✨ 주요 기능

### 1) 보안(SPRING SECURITY)

- **역할 기반 접근 제어**: URL별 권한 통제
- **로그인 실패 원인별 피드백**: 원인별 메시지 전달
- **회원가입 제약조건**: 사번 확인, 아이디/비밀번호 규칙 및 중복 검사

### 2) 마이페이지

- 개인정보 조회/수정, **출퇴근 등록/현황**, **휴가 정보** 확인
- 주요 서브 메뉴(비밀번호 재설정 등)로 빠른 접근

### 3) 인사 관리(HR)

- **사원 등록/조회/상세/수정**(직급·부서·급여·사진 변경)
- **필터 검색**: 사원명/부서/직급
- **AJAX 페이징** 및 상세 보기 모달, **부서 변경 시 권한 연동**

### 4) 근태 관리(Attendance)

- **출퇴근 기록 조회**: 날짜/주말/입퇴사일 필터, 누락 시 결근 처리
- **상태 분류**: 휴가/지각/조퇴/출근

### 5) 휴가 관리(Leave)

- **날짜 고정/제한 규칙**
  - 신청일은 **오늘**, 휴가 시작일은 **내일**(금요일이면 다음주 **월요일** 자동 설정)
  - **주말·공휴일 불가**, 승인/신청된 날짜 **중복 불가**, **잔여 일수 초과** 불가
- **상태 처리**: 승인/반려 시 **출근 현황과 연동**(승인 → “휴가” 반영 및 누적 일수 증가)
- **나의 휴가 페이지**: 신청/조회/수정/삭제를 한곳에서

### 6) 재무 관리(Finance)

- **예산 등록/조회/수정**
  - 부서 선택 시 **입력 칸 생성**, 필수 값·제약조건 검증(미입력/위반 시 경고 및 `disabled`)
  - 부서/연·월 필터, **부서별 잔액 조회**
- **매출 등록**
  - **판매완료 제품 집계**(동일 제품 수량/총액 묶음) → 매출 등록 → **거래내역 자동 입력**
  - 등록된 판매내역은 **Y 처리**(중복 조회 방지)
- **매입 일괄 등록**
  - 거래처 선택 시 테이블 생성, 상품 선택 시 자동 기입, **수량 입력 시 부가세/총액 자동 계산**
  - 등록 시 **매입 합계 집계 → 거래내역 입력**
- **급여 등록**
  - 개별 급여 저장, **부서별 급여 총액 집계 → 거래내역 입력**
- **차트 조회**
  - Chart.js 기반 **도넛/라인/바** 제공
  - **카테고리/월 필터** 지원, 결과 없을 때 **기본값으로 리셋**

### 7) 제품/품질 관리(Product & QA)

- **품질검사 3단계 모두 통과** → **판매대기 등록**, 1개라도 미통과 → **불량품 등록**
- 검사 목록 **필터링 조회**, 수정 시 재검사 여부에 따라 **제품 상태 업데이트**
- **판매대기 리스트**에서 **개별 선택 후 판매 등록**


<!-- 
## 아키텍처

![Architecture](docs/architecture.png)

## ERD

![ERD](docs/erd.png)
-->
## 🔌 핵심 비즈니스 로직(요약)

- **로그인 실패 처리**: 스프링 컨테이너 빈 등록 → `failureHandler`가 원인별 메시지 매핑 후 로그인 페이지로 전달
- **휴가 검증 흐름**: (주말/공휴일/중복/잔여일수) 3중 필터 통과 시에만 신청 가능, 버튼 활성화 조건 만족해야 제출
- **근태 집계**: 출퇴근 시간/휴가 여부/달력정보를 합산해 상태 결정, 누락 데이터는 결근 처리
- **재무 연동**: 매출/매입/급여 등록 시 **거래내역 테이블 자동 입력**, 중복 방지를 위한 플래그 관리
- **차트 안정화**: 조회 결과 없음 → 기본값으로 재로딩하여 빈 그래프/무한 새로고침 방지

## 👥 팀 구성 & 역할

- **오재덕(팀장)**: 스케줄 조율, 보안(로그인/회원가입/비밀번호 재설정), 마이페이지, 개인정보 수정, 출근 현황, 인사/성과 평가, 근태(출퇴근 조회/통계/수정)
- **이환희**: 디자인(프로토타입/CSS/PPT 템플릿), 회원가입/비밀번호 재설정 제약조건, 아이디 찾기, 나의 휴가, 휴가 신청/조회/상태 처리
- **윤의진**: 제품/브랜드/상품 등록/조회, 판매대기/판매완료, 품질검수/불량품
- **박지연**: 급여/보너스 수당, 재무(예산/매출/매입/거래내역), 일괄 등록/집계/차트

## 🧠 이슈 & 배운 점

- **오재덕**: 페이지 전환 시 수정값 유실 → 임시 저장 후 재표시
- **이환희**: 데이터 부재 케이스로 오류 → 요청 분리·중첩처리로 해결, 제약조건을 사전 기획 단계에서 충분히 검토할 필요성 확인
- **박지연**: 카테고리·월 필터 추가, 생성/조회 함수 분리 및 기본값 처리로 안정성 확보

## 🙌 크레딧

Team Ctrl S — 모두 수고하셨습니다!
